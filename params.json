{"name":"Itag","tagline":"iTag - tag a geographical footprint with various data sources (country names, land cover, population count, etc.)  ","body":"iTag\r\n====\r\n\r\nAutomatically tag a geographical footprint against location, land cover, etc.\r\n\r\niTag can tag a footprint with the following information :\r\n* continents\r\n* countries\r\n* cities\r\n* french regions and departments\r\n* geophysical plates\r\n* volcanoes\r\n* land cover (i.e. forest, water, urban, cultivated, herbaceous, desert, snow, flooded)\r\n* population count\r\n\r\nYou can access an online instance [here] (http://mapshup.info/itag) as a web service.\r\n\r\nSee [video capture of itag applied to Pleiades HR and Spot5 images database] (http://vimeo.com/51045597) and access trough [mapshup] (http://mapshup.info)\r\n\r\niTag is extensively used by [RESTo - REstful Semantic search Tool for geOspatial] (http://github.com/jjrom/resto)\r\n\r\nInstallation\r\n============\r\n\r\nWe suppose that $ITAG_HOME is the directory containing this file\r\n\r\nPrerequesites\r\n-------------\r\n\r\n* PHP (v5.3+) command line\r\n* PostgreSQL (v9.0+)\r\n* PostGIS (v1.5.1+)\r\n* GDAL (v1.8+) with python support (for land cover preparation)\r\n\r\nNote: iTag could work with lower version of the specified requirements.\r\nHowever there is no guaranty of success and unwanted result may occured !\r\n\r\nStep by step\r\n------------\r\n\r\n1. Unzip data\r\n\r\n        cd $ITAG_HOME/installation\r\n        unzip data.zip\r\n\r\n2. Install database\r\n\r\n        # Note : \"password\" must be the same as \r\n        # the value of DB_PASSWORD key in $ITAG_HOME/config/config.php\r\n        \r\n        cd $ITAG_HOME/installation\r\n        ./itagInstallDB.sh -F -d <path_to_postgis_directory> -p password\r\n\r\n3. Populate database\r\n\r\n        cd $ITAG_HOME/installation/\r\n        ./itagPopulateDB.sh -D data\r\n\r\n4. Download Global Land Cover 2000\r\n\r\nGo to [\"Global Land Cover 2000\" global product] (http://bioval.jrc.ec.europa.eu/products/glc2000/products.php) and download glc2000 GeoTIFF file.\r\n\r\n5. Configure\r\n\r\nEdit $ITAG_HOME/config/config.php (just follow the comments !)\r\n\r\n5. Precompute landcover\r\n\r\n        cd $ITAG_HOME/scripts/\r\n        ./prepareLandCover.php\r\n\r\nNote : depending on your server performance, the landcover computation can take a long time (more than two hours)\r\n\r\n\r\nUsing iTag\r\n==========\r\n\r\nFrom the command line\r\n---------------------\r\n    \r\n        cd $ITAG_HOME\r\n\r\n        php itag.php -h\r\n\r\n        #\r\n        #   USAGE : php itag.php [options] -f <footprint in WKT> (or -d <db connection info>)\r\n        #   OPTIONS:\r\n        #       -o [type] : output (json|pretty|insert|copy|hstore) - Note : if -d is choosen only 'hstore', 'insert' and 'copy' are used \r\n        #       -H : display hierarchical continents/countries/regions/cities (otherwise keywords are \"flat\") \r\n        #       -O : compute and order result by area of intersection\r\n        #       -c : Countries\r\n        #       -x : Continents\r\n        #       -C : Cities (main|all)\r\n        #       -R : French Regions and departements\r\n        #       -p : Population\r\n        #       -g : Geophysical information (i.e. plates, volcanoes)\r\n        #       -l : Land Cover (i.e. Thematical content - forest, water, urban, etc.\r\n        #       -d : DB connection info - dbhost:dbname:dbschema:dbuser:dbpassword:dbport:tableName:identifierColumnName:geometryColumnName\r\n        #\r\n\r\n        #\r\n        # Tag footprint on Sicilia with countries, all cities and geophysical information\r\n        #\r\n        php itag.php -cg -C all -f \"POLYGON((13.304225 37.47162,13.304225 38.433184,17.259303 38.433184,17.259303 37.47162,13.304225 37.47162))\"\r\n        \r\n        #\r\n        # Tag footprint on Toulouse with French region, land cover and population\r\n        #\r\n        php itag.php -Rgp -f \"POLYGON((1.350360 43.532822,1.350360 43.668522,1.515350 43.668522,1.515350 43.532822,1.350360 43.532822))\"\r\n\r\n        #\r\n        # Hierarchized Tag footprint intersecting France, Italy and Switzerland unordered and ordered \r\n        #\r\n        php itag.php -c -H -f \"POLYGON((6.487426757812523 45.76081241294796,6.487426757812523 46.06798615804025,7.80578613281244 46.06798615804025,7.80578613281244 45.76081241294796, 6.487426757812523 45.76081241294796))\"\r\n        php itag.php -c -H -O -f \"POLYGON((6.487426757812523 45.76081241294796,6.487426757812523 46.06798615804025,7.80578613281244 46.06798615804025,7.80578613281244 45.76081241294796, 6.487426757812523 45.76081241294796))\"\r\n\r\n\r\n        #\r\n        # Tag footprints from table \"products\" of database \"test\"\r\n        #\r\n        # With the following parameters:\r\n        #       - dbhost : localhost\r\n        #       - dbname : test\r\n        #       - dbschema : public\r\n        #       - dbuser : postgres\r\n        #       - dbpassword : postgres\r\n        #       - dbport : 5432\r\n        #       - tableName : products\r\n        #       - identifierColumnName : identifier\r\n        #       - geometryColumnName : footprint\r\n        #\r\n        #\r\n        # Note : Output is set to hstore and redirect to /tmp/hstore.sql\r\n        #\r\n        php itag.php -d localhost:test:public:postgres:postgres:5432:products:identifier:footprint -c -o hstore > /tmp/hstore.sql\r\n\r\n\r\nFrom Web service\r\n----------------\r\n        \r\nWe suppose that $ITAG_HOME is accessible to http://localhost/itag/ in Apache.\r\n\r\nTo tag footprint on Toulouse with geophysical information and all cities with a pretty GeoJSON output, open this url within you browser\r\n    \r\n        http://localhost/itag/?geophysical=true&countries=true&cities=all&output=pretty&footprint=POLYGON((1.350360%2043.532822,1.350360%2043.668522,1.515350%2043.668522,1.515350%2043.532822,1.350360%2043.532822))\r\n\r\nAvailable parameters for Web service are :\r\n* &countries=true\r\n* &cities=main (or &cities=all)\r\n* &population=true\r\n* &geophysical=true\r\n* &regions=true\r\n* &landcover=true\r\n\r\nYou can check this [running instance] (http://mapshup.info/itag/) - (note : landcover is disabled on this server)\r\n\r\n\r\nExamples :\r\n\r\n    Tag footprint on Toulouse with geophysical information and all cities with a pretty GeoJSON output\r\n    \r\n        http://mapshup.info/itag/?geophysical=true&countries=true&cities=all&output=pretty&footprint=POLYGON((1.350360%2043.532822,1.350360%2043.668522,1.515350%2043.668522,1.515350%2043.532822,1.350360%2043.532822))\r\n\r\n\r\n    Tag footprint intersecting France, Italy and Switzerland with cities, France regions and France departments. Hierarchical result as pretty GeoJSON output\r\n    \r\n        http://mapshup.info/itag/?hierarchical=true&ordered=true&countries=true&cities=all&output=pretty&footprint=POLYGON((6.487426757812523%2045.76081241294796,6.487426757812523%2046.06798615804025,7.80578613281244%2046.06798615804025,7.80578613281244%2045.76081241294796,6.487426757812523%2045.76081241294796))\r\n","google":"UA-1386506-7","note":"Don't delete this file! It's used internally to help with page regeneration."}